(()=>{const t=document.querySelector(".app");function c(){t.textContent="";const c=document.createElement("div");c.classList.add("startScreenContainer");const e=document.createElement("div");e.classList.add("startScreenBox");const n=document.createElement("div");n.classList.add("startScreenTitleBox");const s=document.createElement("div");s.classList.add("startScreenTitle"),s.textContent="Выберите сложность",n.appendChild(s);const d=document.createElement("div");d.classList.add("difficultyBox");const a=document.createElement("button");a.classList.add("difficultyItem","difficulty1"),a.textContent="1";const r=document.createElement("button");r.classList.add("difficultyItem","difficulty2"),r.textContent="2";const o=document.createElement("button");o.classList.add("difficultyItem","difficulty3"),o.textContent="3",a.addEventListener("click",(function(t){window.application.difficulty=1})),r.addEventListener("click",(function(t){window.application.difficulty=2})),o.addEventListener("click",(function(t){window.application.difficulty=3})),d.appendChild(a),d.appendChild(r),d.appendChild(o);const p=document.createElement("button");p.classList.add("startButton","button"),p.textContent="Старт",p.addEventListener("click",i),c.appendChild(e),e.appendChild(n),e.appendChild(d),e.appendChild(p),t.appendChild(c)}window.application={blocks:{},screens:{},randomCards:[],renderScreen:function(t){window.application.screens[t]?window.application.screens[t]():console.log("НЕ СУЩЕСТВУЕТ ТАКОГО ПОЛЯ В window.application.screens")},renderBlock:function(t,c){window.application.blocks[t]?window.application.blocks[t](c):console.log("НЕ СУЩЕСТВУЕТ ТАКОГО ПОЛЯ В window.application.blocks")}},c();const e=[{id:"6C",src:"./src/pictures/cards/6C.jpg"},{id:"7C",src:"./src/pictures/cards/7C.jpg"},{id:"8C",src:"./src/pictures/cards/8C.jpg"},{id:"9C",src:"./src/pictures/cards/9C.jpg"},{id:"10C",src:"./src/pictures/cards/10C.jpg"},{id:"JC",src:"./src/pictures/cards/JC.jpg"},{id:"QC",src:"./src/pictures/cards/QC.jpg"},{id:"KC",src:"./src/pictures/cards/KC.jpg"},{id:"AC",src:"./src/pictures/cards/AC.jpg"},{id:"6D",src:"./src/pictures/cards/6D.jpg"},{id:"7D",src:"./src/pictures/cards/7D.jpg"},{id:"8D",src:"./src/pictures/cards/8D.jpg"},{id:"9D",src:"./src/pictures/cards/9D.jpg"},{id:"10D",src:"./src/pictures/cards/10D.jpg"},{id:"JD",src:"./src/pictures/cards/JD.jpg"},{id:"QD",src:"./src/pictures/cards/QD.jpg"},{id:"KD",src:"./src/pictures/cards/KD.jpg"},{id:"AD",src:"./src/pictures/cards/AD.jpg"},{id:"6H",src:"./src/pictures/cards/6H.jpg"},{id:"7H",src:"./src/pictures/cards/7H.jpg"},{id:"8H",src:"./src/pictures/cards/8H.jpg"},{id:"9H",src:"./src/pictures/cards/9H.jpg"},{id:"10H",src:"./src/pictures/cards/10H.jpg"},{id:"JH",src:"./src/pictures/cards/JH.jpg"},{id:"QH",src:"./src/pictures/cards/QH.jpg"},{id:"KH",src:"./src/pictures/cards/KH.jpg"},{id:"AH",src:"./src/pictures/cards/AH.jpg"},{id:"6S",src:"./src/pictures/cards/6S.jpg"},{id:"7S",src:"./src/pictures/cards/7S.jpg"},{id:"8S",src:"./src/pictures/cards/8S.jpg"},{id:"9S",src:"./src/pictures/cards/9S.jpg"},{id:"10S",src:"./src/pictures/cards/10S.jpg"},{id:"JS",src:"./src/pictures/cards/JS.jpg"},{id:"QS",src:"./src/pictures/cards/QS.jpg"},{id:"KS",src:"./src/pictures/cards/KS.jpg"},{id:"AS",src:"./src/pictures/cards/AS.jpg"}];function n(){const t=e[Math.floor(Math.random()*e.length)];window.application.randomCards.includes(t)?n():window.application.randomCards.push(t)}function s(t){const c=document.createElement("p");c.classList.add("secondsBox","timer"),c.textContent=":00";const e=document.createElement("p");e.classList.add("minutesBox","timer"),e.textContent="00";const n=document.createElement("div");n.classList.add("timerBlock"),n.appendChild(e),n.appendChild(c),t.appendChild(n);let s=0,d=0;setInterval((function(){s++,s<10?c.textContent=`:0${s}`:s>=10&&s<=59?c.textContent=`:${s}`:60===s&&(d++,s-=60,e.textContent=`0${d}`,d>=10&&(e.textContent=d))}),1e3)}function d(t){if(1===window.application.difficulty)for(let t=0;t<3;t++)n();else if(2===window.application.difficulty)for(let t=0;t<6;t++)n();else if(3===window.application.difficulty)for(let t=0;t<9;t++)n();!function(t){const c=function(t){for(let c=t.length-1;c>0;c--){const e=Math.floor(Math.random()*(c+1));[t[c],t[e]]=[t[e],t[c]]}return t}(window.application.randomCards.concat(window.application.randomCards));for(let e=0;e<c.length;e++){const n=document.createElement("div");n.classList.add("cardBox"),n.style.backgroundImage=`url(${c[e].src})`,n.classList.add(c[e].id),t.appendChild(n)}window.application.randomCards=[]}(t)}function i(){t.textContent="";const c=document.createElement("div");c.classList.add("gameScreenContainer");const e=document.createElement("div");e.classList.add("gameScreenTopContent");const n=document.createElement("button");n.classList.add("replayButton","button"),n.textContent="Начать заново";const i=document.createElement("div");i.classList.add("gameScreenCardsContainer"),window.application.blocks.timerBlock=s,window.application.renderBlock("timerBlock",e),e.appendChild(n),c.appendChild(e),c.appendChild(i),t.appendChild(c),window.application.blocks.gameBlock=d,window.application.renderBlock("gameBlock",i),function(){const t=document.querySelectorAll(".cardBox");setTimeout((()=>{t.forEach((t=>{t.style.backgroundImage="url(./src/pictures/closed.jpg)"}))}),5e3)}(),setTimeout(a,5e3)}function a(){const t=[];let c=[];const e=document.querySelectorAll(".cardBox");e.forEach((n=>{n.addEventListener("click",(function(){let s=n.classList;n.style.backgroundImage=`url(./src/pictures/cards/${s[1]}.jpg)`,c.push(s[1]),t.push(s[1]),2===c.length&&(c[0]===c[1]?c=[]:(window.application.gameStatus="Вы проиграли!",window.application.modalWindowPicture="./src/pictures/lose.png",r())),t.length===e.length&&(window.application.gameStatus="Вы выиграли!",window.application.modalWindowPicture="./src/pictures/win.png",r())}))}))}function r(){const e=document.createElement("div");e.classList.add("modal");const n=document.createElement("div");n.classList.add("EndgameWindowContainer","modalContent");const s=document.createElement("div");s.classList.add("EndgamePictureBox");const d=document.createElement("img");d.classList.add("EndgamePicture"),d.setAttribute("src",window.application.modalWindowPicture),s.appendChild(d);const i=document.createElement("div");i.classList.add("EndgameHeadingBox");const a=document.createElement("h1");a.classList.add("EndgameHeading"),a.textContent=window.application.gameStatus,i.appendChild(a);const r=document.createElement("div");r.classList.add("totalTimeBox");const o=document.createElement("h2");o.classList.add("totalTimeHeading"),o.textContent="Затраченное время:";const p=document.createElement("h3");p.classList.add("totalTime"),p.textContent=document.querySelector(".minutesBox").textContent+document.querySelector(".secondsBox").textContent,r.appendChild(o),r.appendChild(p);const l=document.createElement("button");l.classList.add("playAgainButton","button"),l.textContent="Играть снова",l.addEventListener("click",c),n.appendChild(s),n.appendChild(i),n.appendChild(r),n.appendChild(l),e.appendChild(n),t.appendChild(e),e.style.display="block"}})();